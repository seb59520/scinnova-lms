{
  "title": "Fil Rouge Databricks : E-commerce",
  "slug": "databricks-fil-rouge",
  "description": "Parcours complet Big Data ‚Üí Data Science ‚Üí Machine Learning √† travers l'analyse et la pr√©diction de la performance commerciale d'un e-commerce avec 2 millions de lignes.",
  "duration": "3 heures",
  "level": "Interm√©diaire",
  "published": true,
  "modules": [
    {
      "title": "Module 0 : Introduction & Pr√©sentation",
      "position": 0,
      "theme": {
        "primaryColor": "#6366F1",
        "secondaryColor": "#4F46E5"
      },
      "items": [
        {
          "type": "resource",
          "title": "0.1 Pr√©sentation du Fil Rouge",
          "position": 0,
          "published": true,
          "content": {
            "description": "Vue d'ensemble du fil rouge, objectifs p√©dagogiques et pr√©sentation du dataset."
          },
          "chapters": [
            {
              "title": "Objectifs p√©dagogiques",
              "position": 0,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "üéØ Objectifs du Fil Rouge" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "text": "Ce fil rouge couvre le parcours complet " },
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Big Data ‚Üí Data Science ‚Üí Machine Learning" },
                      { "type": "text", "text": " √† travers un cas m√©tier concret : l'analyse et la pr√©diction de la performance commerciale d'un e-commerce." }
                    ]
                  },
                  {
                    "type": "paragraph",
                    "content": [{ "type": "text", "text": "√Ä l'issue de ce fil rouge, les participants sauront :" }]
                  },
                  {
                    "type": "orderedList",
                    "content": [
                      {
                        "type": "listItem",
                        "content": [{ "type": "paragraph", "content": [
                          { "type": "text", "marks": [{ "type": "bold" }], "text": "Big Data" },
                          { "type": "text", "text": " : Ing√©rer et traiter des donn√©es massives avec Spark" }
                        ]}]
                      },
                      {
                        "type": "listItem",
                        "content": [{ "type": "paragraph", "content": [
                          { "type": "text", "marks": [{ "type": "bold" }], "text": "Data Science" },
                          { "type": "text", "text": " : Explorer, fiabiliser et pr√©parer des donn√©es pour le ML" }
                        ]}]
                      },
                      {
                        "type": "listItem",
                        "content": [{ "type": "paragraph", "content": [
                          { "type": "text", "marks": [{ "type": "bold" }], "text": "Machine Learning" },
                          { "type": "text", "text": " : Construire, √©valuer et d√©ployer un mod√®le de classification" }
                        ]}]
                      }
                    ]
                  }
                ]
              }
            },
            {
              "title": "Dataset : sales_2M.csv",
              "position": 1,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "üìä Dataset : sales_2M.csv" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [{ "type": "text", "text": "Le dataset contient 2 millions de commandes e-commerce sur 2 ans (2023-2024)." }]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "Colonnes disponibles" }]
                  },
                  {
                    "type": "bulletList",
                    "content": [
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "order_id" },
                        { "type": "text", "text": " (String) : Identifiant unique de commande" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "order_date" },
                        { "type": "text", "text": " (Date) : Date de la commande" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "product" },
                        { "type": "text", "text": " (String) : Nom du produit" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "category" },
                        { "type": "text", "text": " (String) : Cat√©gorie (√âlectronique, Informatique, Audio)" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "country" },
                        { "type": "text", "text": " (String) : Pays du client" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "price" },
                        { "type": "text", "text": " (Float) : Prix unitaire en ‚Ç¨" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "quantity" },
                        { "type": "text", "text": " (Integer) : Quantit√© command√©e" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "channel" },
                        { "type": "text", "text": " (String) : Canal de vente (Web, Mobile, Magasin)" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "payment" },
                        { "type": "text", "text": " (String) : Moyen de paiement" }
                      ]}]}
                    ]
                  }
                ]
              }
            },
            {
              "title": "Pr√©requis techniques",
              "position": 2,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "üöÄ Pr√©requis Techniques" }]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "Environnement Databricks" }]
                  },
                  {
                    "type": "bulletList",
                    "content": [
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "Cluster avec Spark 3.x" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "Runtime ML recommand√©" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "Au moins 4 workers pour le traitement des 2M lignes" }]}]}
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "Upload du Dataset" }]
                  },
                  {
                    "type": "orderedList",
                    "content": [
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "text": "Aller dans " },
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "Data" },
                        { "type": "text", "text": " > " },
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "Create Table" },
                        { "type": "text", "text": " > " },
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "Upload File" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "text": "Uploader " },
                        { "type": "text", "marks": [{ "type": "code" }], "text": "sales_2M.csv" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "text": "Noter le chemin (ex: " },
                        { "type": "text", "marks": [{ "type": "code" }], "text": "dbfs:/FileStore/tables/sales_2M.csv" },
                        { "type": "text", "text": ")" }
                      ]}]}
                    ]
                  }
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "title": "Module 1 : TP Big Data ‚Äî Ingestion & Delta Lake",
      "position": 1,
      "theme": {
        "primaryColor": "#10B981",
        "secondaryColor": "#059669"
      },
      "items": [
        {
          "type": "resource",
          "title": "1.1 Objectifs du TP Big Data",
          "position": 0,
          "published": true,
          "content": {
            "description": "Passer du CSV brut √† une table Delta exploitable. Dur√©e estim√©e : 45-60 minutes."
          },
          "chapters": [
            {
              "title": "Mission et objectifs",
              "position": 0,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "üéØ TP Big Data ‚Äî Ingestion & Delta Lake" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Mission : " },
                      { "type": "text", "text": "Passer du CSV brut √† une table Delta exploitable" }
                    ]
                  },
                  {
                    "type": "paragraph",
                    "content": [{ "type": "text", "text": "√Ä la fin de ce notebook, vous saurez :" }]
                  },
                  {
                    "type": "orderedList",
                    "content": [
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "Charger un fichier CSV avec Spark (inf√©rence de sch√©ma)" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "Normaliser les types de donn√©es (date, double, int)" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "Calculer des colonnes d√©riv√©es (revenue)" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "Persister en Delta Lake pour des analyses performantes" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "R√©aliser des agr√©gations BI classiques" }]}]}
                    ]
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "resource",
          "title": "1.2 Exercice 1 : Lecture du CSV",
          "position": 1,
          "published": true,
          "content": {
            "description": "Charger le fichier CSV avec Spark en activant l'inf√©rence de sch√©ma."
          },
          "chapters": [
            {
              "title": "Consignes",
              "position": 0,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "üìñ Exercice 1 : Lecture Spark du CSV" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Consigne : " },
                      { "type": "text", "text": "Chargez le fichier CSV avec Spark en activant l'inf√©rence de sch√©ma et la d√©tection des en-t√™tes." }
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "Code √† compl√©ter" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [{ "type": "text", "text": "Dans Databricks, ex√©cutez le code suivant :" }]
                  },
                  {
                    "type": "blockquote",
                    "content": [
                      { "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "file_path = \"dbfs:/FileStore/tables/sales_2M.csv\"" }
                      ]},
                      { "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "# TODO: Charger le CSV avec spark.read" }
                      ]},
                      { "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "# Utiliser les options: header=True, inferSchema=True" }
                      ]},
                      { "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "df_raw = spark.read... # Compl√©tez" }
                      ]},
                      { "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "display(df_raw.limit(5))" }
                      ]},
                      { "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "df_raw.printSchema()" }
                      ]}
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "üí° Indice" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "text": "Utilisez " },
                      { "type": "text", "marks": [{ "type": "code" }], "text": "spark.read.option(\"header\", \"true\").option(\"inferSchema\", \"true\").csv(file_path)" }
                    ]
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "resource",
          "title": "1.3 Exercice 2 : Normalisation des types",
          "position": 2,
          "published": true,
          "content": {
            "description": "Convertir les colonnes dans les bons types et calculer le revenue."
          },
          "chapters": [
            {
              "title": "Consignes",
              "position": 0,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "üîß Exercice 2 : Normalisation des types" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Consigne : " },
                      { "type": "text", "text": "Convertissez les colonnes dans les bons types et calculez le revenue (price √ó quantity)." }
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "TODO" }]
                  },
                  {
                    "type": "bulletList",
                    "content": [
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "order_date" },
                        { "type": "text", "text": " ‚Üí " },
                        { "type": "text", "marks": [{ "type": "code" }], "text": "to_date()" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "price" },
                        { "type": "text", "text": " ‚Üí " },
                        { "type": "text", "marks": [{ "type": "code" }], "text": "cast(\"double\")" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "quantity" },
                        { "type": "text", "text": " ‚Üí " },
                        { "type": "text", "marks": [{ "type": "code" }], "text": "cast(\"int\")" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "revenue" },
                        { "type": "text", "text": " = price √ó quantity" }
                      ]}]}
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "Code de d√©part" }]
                  },
                  {
                    "type": "blockquote",
                    "content": [
                      { "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "from pyspark.sql.functions import col, to_date" }
                      ]},
                      { "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "df = df_raw.withColumn(\"order_date\", to_date(col(\"order_date\")))" }
                      ]},
                      { "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "# Compl√©tez les autres colonnes..." }
                      ]}
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "‚úÖ R√©sultat attendu" }]
                  },
                  {
                    "type": "bulletList",
                    "content": [
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "order_date" },
                        { "type": "text", "text": " : date" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "price" },
                        { "type": "text", "text": " : double" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "quantity" },
                        { "type": "text", "text": " : int" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "revenue" },
                        { "type": "text", "text": " : double (nouvelle colonne)" }
                      ]}]}
                    ]
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "resource",
          "title": "1.4 Exercice 3 : Sauvegarde Delta Lake",
          "position": 3,
          "published": true,
          "content": {
            "description": "Persister le DataFrame dans une table Delta."
          },
          "chapters": [
            {
              "title": "Consignes",
              "position": 0,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "üíæ Exercice 3 : Sauvegarde Delta Lake" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Consigne : " },
                      { "type": "text", "text": "Persistez le DataFrame normalis√© dans une table Delta pour des analyses performantes." }
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "Code" }]
                  },
                  {
                    "type": "blockquote",
                    "content": [
                      { "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "df.write.mode(\"overwrite\").format(\"delta\").saveAsTable(\"sales_delta\")" }
                      ]},
                      { "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "print(\"‚úÖ Table sales_delta cr√©√©e avec succ√®s!\")" }
                      ]}
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "ü§î Question de r√©flexion" }]
                  },
                  {
                    "type": "blockquote",
                    "content": [{ "type": "paragraph", "content": [
                      { "type": "text", "text": "Pourquoi Delta Lake plut√¥t que rester en CSV ? Quels avantages ?" }
                    ]}]
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "resource",
          "title": "1.5 Exercice 4 : Analyses BI",
          "position": 4,
          "published": true,
          "content": {
            "description": "R√©aliser 5 agr√©gations BI sur la table Delta."
          },
          "chapters": [
            {
              "title": "Consignes",
              "position": 0,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "üìä Exercice 4 : Analyses BI" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Consigne : " },
                      { "type": "text", "text": "R√©alisez les 5 agr√©gations suivantes sur la table Delta :" }
                    ]
                  },
                  {
                    "type": "orderedList",
                    "content": [
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "CA par pays" },
                        { "type": "text", "text": " : groupBy(\"country\"), sum(\"revenue\"), orderBy desc" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "Top 10 produits" },
                        { "type": "text", "text": " : groupBy(\"product\"), sum(\"revenue\"), limit(10)" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "CA par jour" },
                        { "type": "text", "text": " : groupBy(\"order_date\"), sum(\"revenue\")" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "Performance par canal" },
                        { "type": "text", "text": " : groupBy(\"channel\"), avg(\"revenue\"), count()" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "R√©partition paiements" },
                        { "type": "text", "text": " : groupBy(\"payment\"), count()" }
                      ]}]}
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "Exemple de code" }]
                  },
                  {
                    "type": "blockquote",
                    "content": [
                      { "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "from pyspark.sql.functions import sum, avg, count" }
                      ]},
                      { "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "df = spark.table(\"sales_delta\")" }
                      ]},
                      { "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "ca_pays = df.groupBy(\"country\").agg(sum(\"revenue\").alias(\"total_ca\")).orderBy(col(\"total_ca\").desc())" }
                      ]},
                      { "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "display(ca_pays)" }
                      ]}
                    ]
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "resource",
          "title": "1.6 Synth√®se TP1",
          "position": 5,
          "published": true,
          "content": {
            "description": "R√©capitulatif des comp√©tences acquises dans le TP Big Data."
          },
          "chapters": [
            {
              "title": "Ce que vous avez appris",
              "position": 0,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "‚úÖ Synth√®se du TP Big Data" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [{ "type": "text", "text": "Vous avez appris √† :" }]
                  },
                  {
                    "type": "bulletList",
                    "content": [
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "‚úÖ Charger un CSV avec Spark (2M lignes)" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "‚úÖ Normaliser les types de donn√©es" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "‚úÖ Calculer des colonnes d√©riv√©es (revenue)" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "‚úÖ Persister en Delta Lake" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "‚úÖ R√©aliser des agr√©gations BI" }]}]}
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "‚û°Ô∏è Prochaine √©tape" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [{ "type": "text", "text": "Passez au Module 2 ‚Äî Data Science pour explorer la qualit√© des donn√©es et pr√©parer les features ML." }]
                  }
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "title": "Module 2 : TP Data Science ‚Äî Qualit√© & Features",
      "position": 2,
      "theme": {
        "primaryColor": "#8B5CF6",
        "secondaryColor": "#7C3AED"
      },
      "items": [
        {
          "type": "resource",
          "title": "2.1 Objectifs du TP Data Science",
          "position": 0,
          "published": true,
          "content": {
            "description": "Rendre la donn√©e fiable et construire une cible ML. Dur√©e estim√©e : 45-60 minutes."
          },
          "chapters": [
            {
              "title": "Mission et objectifs",
              "position": 0,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "üéØ TP Data Science ‚Äî Qualit√© & Feature Engineering" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Mission : " },
                      { "type": "text", "text": "Rendre la donn√©e fiable + construire une cible ML" }
                    ]
                  },
                  {
                    "type": "paragraph",
                    "content": [{ "type": "text", "text": "√Ä la fin de ce notebook, vous saurez :" }]
                  },
                  {
                    "type": "orderedList",
                    "content": [
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "Contr√¥ler la qualit√© des donn√©es (nulls, outliers, domaines)" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "Explorer les distributions et corr√©lations" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "Cr√©er des features temporelles (mois, jour de semaine, ann√©e)" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "Construire une cible binaire pour le ML (high_value_order)" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "Pr√©parer un dataset propre pour l'entra√Ænement" }]}]}
                    ]
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "resource",
          "title": "2.2 Exercice 1 : Contr√¥le qualit√©",
          "position": 1,
          "published": true,
          "content": {
            "description": "V√©rifier la qualit√© des donn√©es : valeurs nulles, outliers, domaines."
          },
          "chapters": [
            {
              "title": "Consignes",
              "position": 0,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "üîç Exercice 1 : Contr√¥le Qualit√© des Donn√©es" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Consigne : " },
                      { "type": "text", "text": "V√©rifiez la qualit√© des donn√©es : valeurs nulles, outliers, domaines cat√©goriels." }
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "TODO" }]
                  },
                  {
                    "type": "orderedList",
                    "content": [
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "Compter les valeurs nulles par colonne" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "V√©rifier les domaines cat√©goriels (pays, produits, canaux uniques)" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "D√©tecter les outliers sur price et quantity avec describe()" }]}]}
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "ü§î Questions de r√©flexion" }]
                  },
                  {
                    "type": "bulletList",
                    "content": [
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "Y a-t-il des valeurs nulles ? Comment les traiter ?" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "Les prix min/max sont-ils r√©alistes ?" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "Le nombre de cat√©gories est-il attendu ?" }]}]}
                    ]
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "resource",
          "title": "2.3 Exercice 2 : Analyse exploratoire (EDA)",
          "position": 2,
          "published": true,
          "content": {
            "description": "Explorer les distributions et identifier des patterns."
          },
          "chapters": [
            {
              "title": "Consignes",
              "position": 0,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "üìà Exercice 2 : Analyse Exploratoire (EDA)" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Consigne : " },
                      { "type": "text", "text": "Explorez les distributions et identifiez des patterns dans les donn√©es." }
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "Analyses √† r√©aliser" }]
                  },
                  {
                    "type": "bulletList",
                    "content": [
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "Distribution du revenue avec describe()" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "Panier moyen par pays (groupBy + avg)" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "Panier moyen par canal" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "CA par cat√©gorie" }]}]}
                    ]
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "resource",
          "title": "2.4 Exercice 3 : Feature Engineering",
          "position": 3,
          "published": true,
          "content": {
            "description": "Cr√©er des features temporelles √† partir de la date."
          },
          "chapters": [
            {
              "title": "Consignes",
              "position": 0,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "üõ†Ô∏è Exercice 3 : Feature Engineering" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Consigne : " },
                      { "type": "text", "text": "Cr√©ez des features temporelles √† partir de la date de commande." }
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "Features √† cr√©er" }]
                  },
                  {
                    "type": "bulletList",
                    "content": [
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "month" },
                        { "type": "text", "text": " : mois (1-12)" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "dow" },
                        { "type": "text", "text": " : jour de la semaine (1-7)" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "year" },
                        { "type": "text", "text": " : ann√©e" }
                      ]}]}
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "Fonctions Spark utiles" }]
                  },
                  {
                    "type": "blockquote",
                    "content": [
                      { "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "from pyspark.sql.functions import month, dayofweek, year" }
                      ]}
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "ü§î Question de r√©flexion" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [{ "type": "text", "text": "Quelles autres features temporelles pourrait-on cr√©er ? (week_of_year, is_weekend, quarter...)" }]
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "resource",
          "title": "2.5 Exercice 4 : Cr√©ation de la cible ML",
          "position": 4,
          "published": true,
          "content": {
            "description": "Cr√©er une variable binaire high_value_order bas√©e sur le 80e percentile."
          },
          "chapters": [
            {
              "title": "Consignes",
              "position": 0,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "üéØ Exercice 4 : Cr√©ation de la Cible ML" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Consigne : " },
                      { "type": "text", "text": "Cr√©ez une variable binaire high_value_order bas√©e sur le 80e percentile du revenue." }
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "√âtapes" }]
                  },
                  {
                    "type": "orderedList",
                    "content": [
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "text": "Calculer le seuil avec " },
                        { "type": "text", "marks": [{ "type": "code" }], "text": "approxQuantile(\"revenue\", [0.8], 0.01)[0]" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "text": "Cr√©er la colonne binaire avec " },
                        { "type": "text", "marks": [{ "type": "code" }], "text": "when(col(\"revenue\") >= threshold, 1).otherwise(0)" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "V√©rifier la distribution de la cible (‚âà20% de 1)" }]}]}
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "‚ö†Ô∏è Attention au Data Leakage !" }]
                  },
                  {
                    "type": "blockquote",
                    "content": [{ "type": "paragraph", "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Important : " },
                      { "type": "text", "text": "La colonne revenue ne doit PAS √™tre utilis√©e comme feature dans le mod√®le, car elle est directement li√©e √† la cible." }
                    ]}]
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "resource",
          "title": "2.6 Exercice 5 : Pr√©paration du dataset ML",
          "position": 5,
          "published": true,
          "content": {
            "description": "S√©lectionner les colonnes utiles et sauvegarder le dataset ML."
          },
          "chapters": [
            {
              "title": "Consignes",
              "position": 0,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "üíæ Exercice 5 : Pr√©paration du Dataset ML" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Consigne : " },
                      { "type": "text", "text": "S√©lectionnez les colonnes utiles et sauvegardez le dataset pr√™t pour le ML." }
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "Colonnes √† conserver" }]
                  },
                  {
                    "type": "bulletList",
                    "content": [
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "order_id, product, category, country, price, quantity, channel, payment" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "month, dow, year (features temporelles)" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "high_value_order (cible)" }]}]}
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "‚ö†Ô∏è Attention" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Exclure " },
                      { "type": "text", "marks": [{ "type": "code" }], "text": "revenue" },
                      { "type": "text", "text": " pour √©viter le data leakage !" }
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "Sauvegarde" }]
                  },
                  {
                    "type": "blockquote",
                    "content": [
                      { "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "df_ml.write.mode(\"overwrite\").format(\"delta\").saveAsTable(\"sales_ml_ready\")" }
                      ]}
                    ]
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "resource",
          "title": "2.7 Synth√®se TP2",
          "position": 6,
          "published": true,
          "content": {
            "description": "R√©capitulatif des comp√©tences acquises dans le TP Data Science."
          },
          "chapters": [
            {
              "title": "Ce que vous avez appris",
              "position": 0,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "‚úÖ Synth√®se du TP Data Science" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [{ "type": "text", "text": "Vous avez appris √† :" }]
                  },
                  {
                    "type": "bulletList",
                    "content": [
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "‚úÖ Contr√¥ler la qualit√© des donn√©es" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "‚úÖ Explorer les distributions (EDA)" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "‚úÖ Cr√©er des features temporelles" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "‚úÖ Construire une cible binaire pertinente" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "‚úÖ √âviter le data leakage" }]}]}
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "‚û°Ô∏è Prochaine √©tape" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [{ "type": "text", "text": "Passez au Module 3 ‚Äî Machine Learning pour entra√Æner et √©valuer un mod√®le de classification." }]
                  }
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "title": "Module 3 : TP Machine Learning ‚Äî Mod√®le & √âvaluation",
      "position": 3,
      "theme": {
        "primaryColor": "#F59E0B",
        "secondaryColor": "#D97706"
      },
      "items": [
        {
          "type": "resource",
          "title": "3.1 Objectifs du TP Machine Learning",
          "position": 0,
          "published": true,
          "content": {
            "description": "Entra√Æner, √©valuer et scorer un mod√®le de classification. Dur√©e estim√©e : 45-60 minutes."
          },
          "chapters": [
            {
              "title": "Mission et objectifs",
              "position": 0,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "üéØ TP Machine Learning ‚Äî Mod√®le & √âvaluation" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Mission : " },
                      { "type": "text", "text": "Entra√Æner, √©valuer et scorer un mod√®le de classification" }
                    ]
                  },
                  {
                    "type": "paragraph",
                    "content": [{ "type": "text", "text": "√Ä la fin de ce notebook, vous saurez :" }]
                  },
                  {
                    "type": "orderedList",
                    "content": [
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "S√©parer les donn√©es en train/test (80/20)" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "Construire un pipeline ML (StringIndexer, OneHotEncoder, VectorAssembler)" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "Entra√Æner un mod√®le LogisticRegression" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "√âvaluer avec AUC et matrice de confusion" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "Scorer et interpr√©ter les r√©sultats" }]}]}
                    ]
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "resource",
          "title": "3.2 Exercice 1 : Split Train/Test",
          "position": 1,
          "published": true,
          "content": {
            "description": "S√©parer les donn√©es en 80% train et 20% test."
          },
          "chapters": [
            {
              "title": "Consignes",
              "position": 0,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "‚úÇÔ∏è Exercice 1 : Split Train/Test" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Consigne : " },
                      { "type": "text", "text": "S√©parez les donn√©es en 80% train et 20% test avec un seed fixe pour la reproductibilit√©." }
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "Code" }]
                  },
                  {
                    "type": "blockquote",
                    "content": [
                      { "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "df = spark.table(\"sales_ml_ready\")" }
                      ]},
                      { "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "train, test = df.randomSplit([0.8, 0.2], seed=42)" }
                      ]}
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "ü§î Questions de r√©flexion" }]
                  },
                  {
                    "type": "bulletList",
                    "content": [
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "Pourquoi utiliser un seed fixe ?" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "Pourquoi 80/20 et pas 70/30 ?" }]}]}
                    ]
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "resource",
          "title": "3.3 Exercice 2 : Construction du Pipeline ML",
          "position": 2,
          "published": true,
          "content": {
            "description": "Construire un pipeline pour encoder les variables et assembler les features."
          },
          "chapters": [
            {
              "title": "Consignes",
              "position": 0,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "üîß Exercice 2 : Construction du Pipeline ML" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Consigne : " },
                      { "type": "text", "text": "Construisez un pipeline pour encoder les variables cat√©gorielles et assembler les features." }
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "√âtapes du pipeline" }]
                  },
                  {
                    "type": "orderedList",
                    "content": [
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "StringIndexer" },
                        { "type": "text", "text": " : encoder les colonnes cat√©gorielles (product, category, country, channel, payment)" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "OneHotEncoder" },
                        { "type": "text", "text": " : cr√©er les vecteurs one-hot" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "VectorAssembler" },
                        { "type": "text", "text": " : assembler toutes les features" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "LogisticRegression" },
                        { "type": "text", "text": " : maxIter=100, regParam=0.01" }
                      ]}]}
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "‚ö†Ô∏è Important" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "text": "Toujours ajouter " },
                      { "type": "text", "marks": [{ "type": "code" }], "text": "handleInvalid=\"keep\"" },
                      { "type": "text", "text": " dans StringIndexer pour g√©rer les valeurs inconnues en test." }
                    ]
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "resource",
          "title": "3.4 Exercice 3 : Entra√Ænement",
          "position": 3,
          "published": true,
          "content": {
            "description": "Entra√Æner le pipeline sur les donn√©es d'entra√Ænement."
          },
          "chapters": [
            {
              "title": "Consignes",
              "position": 0,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "üöÄ Exercice 3 : Entra√Ænement du Mod√®le" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Consigne : " },
                      { "type": "text", "text": "Entra√Ænez le pipeline sur les donn√©es d'entra√Ænement." }
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "Code" }]
                  },
                  {
                    "type": "blockquote",
                    "content": [
                      { "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "model = pipeline.fit(train)" }
                      ]},
                      { "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "code" }], "text": "predictions = model.transform(test)" }
                      ]}
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "V√©rification" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [{ "type": "text", "text": "Affichez quelques pr√©dictions avec les colonnes : order_id, high_value_order, prediction, probability" }]
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "resource",
          "title": "3.5 Exercice 4 : √âvaluation",
          "position": 4,
          "published": true,
          "content": {
            "description": "√âvaluer le mod√®le avec l'AUC et la matrice de confusion."
          },
          "chapters": [
            {
              "title": "Consignes",
              "position": 0,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "üìä Exercice 4 : √âvaluation du Mod√®le" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Consigne : " },
                      { "type": "text", "text": "√âvaluez le mod√®le avec l'AUC et calculez la matrice de confusion." }
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "M√©triques √† calculer" }]
                  },
                  {
                    "type": "orderedList",
                    "content": [
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "AUC" },
                        { "type": "text", "text": " : avec BinaryClassificationEvaluator (areaUnderROC)" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "PR-AUC" },
                        { "type": "text", "text": " : areaUnderPR" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "Matrice de confusion" },
                        { "type": "text", "text": " : TP, TN, FP, FN" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "Precision, Recall, F1, Accuracy" }
                      ]}]}
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "ü§î Interpr√©tation" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [{ "type": "text", "text": "Un AUC > 0.75 est consid√©r√© comme bon. Un AUC proche de 0.5 signifie que le mod√®le n'est pas meilleur qu'un tirage al√©atoire." }]
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "resource",
          "title": "3.6 Exercice 5 : Scoring & Interpr√©tation",
          "position": 5,
          "published": true,
          "content": {
            "description": "Appliquer le mod√®le et produire des recommandations m√©tier."
          },
          "chapters": [
            {
              "title": "Consignes",
              "position": 0,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "üìà Exercice 5 : Scoring & Interpr√©tation M√©tier" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Consigne : " },
                      { "type": "text", "text": "Appliquez le mod√®le √† toutes les donn√©es et produisez des recommandations m√©tier." }
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "Scoring" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "text": "Extraire la probabilit√© de la classe 1 avec " },
                      { "type": "text", "marks": [{ "type": "code" }], "text": "p_high_value = probability[1]" }
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "üí° Recommandations m√©tier" }]
                  },
                  {
                    "type": "bulletList",
                    "content": [
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "Marketing cibl√©" },
                        { "type": "text", "text": " : Cibler les clients avec p_high_value > 0.7 pour des campagnes premium" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "Upselling" },
                        { "type": "text", "text": " : Proposer des produits compl√©mentaires aux clients √† fort potentiel" }
                      ]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "Stock" },
                        { "type": "text", "text": " : Anticiper les produits favoris des clients haute valeur" }
                      ]}]}
                    ]
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "resource",
          "title": "3.7 Extensions avanc√©es (Optionnel)",
          "position": 6,
          "published": true,
          "content": {
            "description": "MLflow, Random Forest, Cross-Validation pour aller plus loin."
          },
          "chapters": [
            {
              "title": "Pour aller plus loin",
              "position": 0,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "üöÄ Extensions Avanc√©es (Optionnel)" }]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "1. MLflow Tracking" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [{ "type": "text", "text": "Logger les param√®tres et m√©triques avec MLflow pour le suivi des exp√©riences." }]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "2. Random Forest" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "text": "Remplacer LogisticRegression par " },
                      { "type": "text", "marks": [{ "type": "code" }], "text": "RandomForestClassifier(numTrees=100, maxDepth=10)" }
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "3. Cross-Validation" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "text": "Utiliser " },
                      { "type": "text", "marks": [{ "type": "code" }], "text": "CrossValidator" },
                      { "type": "text", "text": " avec une grille de param√®tres pour optimiser le mod√®le." }
                    ]
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "resource",
          "title": "3.8 Synth√®se TP3",
          "position": 7,
          "published": true,
          "content": {
            "description": "R√©capitulatif des comp√©tences acquises dans le TP Machine Learning."
          },
          "chapters": [
            {
              "title": "Comp√©tences valid√©es",
              "position": 0,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "‚úÖ Synth√®se du TP Machine Learning" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [{ "type": "text", "text": "Vous avez appris √† :" }]
                  },
                  {
                    "type": "bulletList",
                    "content": [
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "‚úÖ S√©parer correctement train/test" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "‚úÖ Construire un pipeline ML avec Spark" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "‚úÖ G√©rer les variables cat√©gorielles (StringIndexer + OneHotEncoder)" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "‚úÖ Entra√Æner une r√©gression logistique" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "‚úÖ √âvaluer avec AUC, matrice de confusion, F1" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "‚úÖ Produire des recommandations m√©tier" }]}]}
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "üéì Comp√©tences valid√©es du Fil Rouge" }]
                  },
                  {
                    "type": "blockquote",
                    "content": [
                      { "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "Big Data : " },
                        { "type": "text", "text": "\"Je sais ing√©rer et traiter des donn√©es √† grande √©chelle avec Spark\"" }
                      ]},
                      { "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "Data Science : " },
                        { "type": "text", "text": "\"Je sais explorer, nettoyer et pr√©parer des donn√©es pour le ML\"" }
                      ]},
                      { "type": "paragraph", "content": [
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "Machine Learning : " },
                        { "type": "text", "text": "\"Je sais entra√Æner un mod√®le, l'√©valuer et produire des recommandations actionnables\"" }
                      ]}
                    ]
                  }
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "title": "Module 4 : Ressources & Guide Formateur",
      "position": 4,
      "theme": {
        "primaryColor": "#EF4444",
        "secondaryColor": "#DC2626"
      },
      "items": [
        {
          "type": "resource",
          "title": "4.1 Pi√®ges courants & Solutions",
          "position": 0,
          "published": true,
          "content": {
            "description": "Les erreurs fr√©quentes et comment les r√©soudre."
          },
          "chapters": [
            {
              "title": "Pi√®ges courants",
              "position": 0,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "‚ö†Ô∏è Pi√®ges Courants" }]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "1. Oubli du handleInvalid=\"keep\"" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Sympt√¥me : " },
                      { "type": "text", "text": "Erreur \"Unseen label\" lors du transform sur test" }
                    ]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Solution : " },
                      { "type": "text", "text": "Toujours ajouter handleInvalid=\"keep\" dans StringIndexer" }
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "2. Colonnes non typ√©es" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Sympt√¥me : " },
                      { "type": "text", "text": "Erreurs de type lors des calculs" }
                    ]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Solution : " },
                      { "type": "text", "text": "Toujours caster explicitement apr√®s lecture CSV" }
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "3. Data Leakage" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Sympt√¥me : " },
                      { "type": "text", "text": "AUC tr√®s √©lev√© (>0.99) ‚Äî trop beau pour √™tre vrai" }
                    ]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Solution : " },
                      { "type": "text", "text": "Ne jamais inclure revenue comme feature si la cible en d√©pend" }
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "4. Overfitting" }]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Sympt√¥me : " },
                      { "type": "text", "text": "Excellentes m√©triques sur train, mauvaises sur test" }
                    ]
                  },
                  {
                    "type": "paragraph",
                    "content": [
                      { "type": "text", "marks": [{ "type": "bold" }], "text": "Solution : " },
                      { "type": "text", "text": "Toujours √©valuer sur test, utiliser la r√©gularisation" }
                    ]
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "resource",
          "title": "4.2 Questions formateur",
          "position": 1,
          "published": true,
          "content": {
            "description": "Questions √† poser aux participants pendant les TP."
          },
          "chapters": [
            {
              "title": "Questions par module",
              "position": 0,
              "content": {
                "type": "doc",
                "content": [
                  {
                    "type": "heading",
                    "attrs": { "level": 1 },
                    "content": [{ "type": "text", "text": "üí¨ Questions √† Poser aux Participants" }]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "TP Big Data" }]
                  },
                  {
                    "type": "bulletList",
                    "content": [
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "\"Pourquoi Spark plut√¥t que Pandas pour 2M lignes ?\"" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "\"Quel avantage de Delta Lake vs CSV pour les analyses r√©p√©t√©es ?\"" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "\"Comment interpr√©ter les variations de CA par pays ?\"" }]}]}
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "TP Data Science" }]
                  },
                  {
                    "type": "bulletList",
                    "content": [
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "\"Quelles colonnes pourraient contenir des valeurs aberrantes ?\"" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "\"Pourquoi cr√©er une cible binaire plut√¥t que pr√©dire le revenue exact ?\"" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "\"Quelles autres features pourrait-on cr√©er ?\"" }]}]}
                    ]
                  },
                  {
                    "type": "heading",
                    "attrs": { "level": 2 },
                    "content": [{ "type": "text", "text": "TP Machine Learning" }]
                  },
                  {
                    "type": "bulletList",
                    "content": [
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "\"Pourquoi 80/20 pour le split ?\"" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "\"Que signifie un AUC de 0.85 ?\"" }]}]},
                      { "type": "listItem", "content": [{ "type": "paragraph", "content": [{ "type": "text", "text": "\"Comment utiliser ce mod√®le en production ?\"" }]}]}
                    ]
                  }
                ]
              }
            }
          ]
        }
      ]
    }
  ]
}
