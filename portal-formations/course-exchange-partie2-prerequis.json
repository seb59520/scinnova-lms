{
  "title": "Microsoft Exchange ‚Äî Partie 2 : Pr√©requis syst√®me & r√©seau (45-60 min)",
  "description": "Pr√©requis syst√®me et r√©seau pour Exchange : DNS, Active Directory, certificats SSL/TLS. Configuration des enregistrements DNS (MX, SPF, DKIM). Gestion des d√©pendances avec Active Directory. Inclut 2 TP pratiques et un quiz de validation.",
  "status": "draft",
  "access_type": "free",
  "theme": {
    "primaryColor": "#3B82F6",
    "secondaryColor": "#8B5CF6",
    "fontFamily": "Inter"
  },
  "modules": [
    {
      "title": "Module 2 ‚Äî Pr√©requis syst√®me & r√©seau pour Exchange",
      "position": 1,
      "theme": {
        "primaryColor": "#10B981",
        "secondaryColor": "#059669",
        "fontFamily": "Inter"
      },
      "items": [
        {
          "type": "resource",
          "title": "2.1 Pr√©requis syst√®me et r√©seau : DNS, Active Directory, certificats SSL",
          "position": 0,
          "published": true,
          "content": {
            "body": {
              "type": "doc",
              "content": [
                {
                  "type": "heading",
                  "attrs": { "level": 2 },
                  "content": [{ "type": "text", "text": "üéØ Objectifs de la s√©quence (45-60 min)" }]
                },
                {
                  "type": "bulletList",
                  "content": [
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "Comprendre l'importance de DNS pour Exchange (autodiscover, MX, SPF/DKIM)." }] }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "Identifier les d√©pendances avec Active Directory (Global Catalog, sites AD, r√©plication)." }] }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "Comprendre le r√¥le des certificats SSL/TLS pour s√©curiser les √©changes (HTTPS, SMTP + STARTTLS)." }] }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "Configurer les enregistrements DNS n√©cessaires (MX, SPF, DKIM) pour une messagerie professionnelle." }] }
                      ]
                    }
                  ]
                },
                { "type": "paragraph" },
                {
                  "type": "heading",
                  "attrs": { "level": 2 },
                  "content": [{ "type": "text", "text": "üåê DNS : \"la plomberie\" indispensable" }]
                },
                {
                  "type": "paragraph",
                  "content": [
                    { "type": "text", "text": "Exchange d√©pend fortement de DNS, parce que :" }
                  ]
                },
                {
                  "type": "bulletList",
                  "content": [
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "Les clients (Outlook, mobiles) ont besoin de retrouver automatiquement le bon serveur (autodiscover)." }] }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "Les serveurs mail externes utilisent DNS pour savoir o√π livrer les emails (MX)." }] }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "Les m√©canismes anti-usurpation (SPF/DKIM) sont des enregistrements DNS." }] }
                      ]
                    }
                  ]
                },
                {
                  "type": "blockquote",
                  "content": [
                    {
                      "type": "paragraph",
                      "content": [
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "√Ä retenir :" },
                        { "type": "text", "text": " Dans l'√©cosyst√®me Microsoft 365, Microsoft rappelle que les 3 enregistrements \"de base\" c√¥t√© DNS sont Autodiscover, MX et SPF. M√™me en Exchange on-prem, le raisonnement reste le m√™me : sans DNS propre, les clients et le flux mail deviennent instables." }
                      ]
                    }
                  ]
                },
                { "type": "paragraph" },
                {
                  "type": "heading",
                  "attrs": { "level": 2 },
                  "content": [{ "type": "text", "text": "üèõÔ∏è Active Directory : la d√©pendance structurante" }]
                },
                {
                  "type": "paragraph",
                  "content": [
                    { "type": "text", "text": "Exchange est con√ßu pour fonctionner avec Active Directory : comptes, groupes, permissions, objets Exchange, etc." }
                  ]
                },
                {
                  "type": "blockquote",
                  "content": [
                    {
                      "type": "paragraph",
                      "content": [
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "Pr√©requis critique :" },
                        { "type": "text", "text": " Dans le site AD o√π tu installes Exchange, il faut au minimum un contr√¥leur de domaine inscriptible (writeable) qui soit aussi Global Catalog, sinon l'installation √©choue." }
                      ]
                    }
                  ]
                },
                {
                  "type": "paragraph",
                  "content": [
                    { "type": "text", "marks": [{ "type": "bold" }], "text": "‚û°Ô∏è Message p√©dagogique :" },
                    { "type": "text", "text": " Exchange = messagerie, mais AD = identit√© et autorisations. Sans AD coh√©rent (sites, r√©plication, GC), Exchange souffre (ou ne s'installe pas)." }
                  ]
                },
                { "type": "paragraph" },
                {
                  "type": "heading",
                  "attrs": { "level": 2 },
                  "content": [{ "type": "text", "text": "üîê Certificats SSL/TLS : pour s√©curiser (vraiment) les √©changes" }]
                },
                {
                  "type": "paragraph",
                  "content": [
                    { "type": "text", "text": "Exchange utilise TLS/SSL pour plusieurs usages :" }
                  ]
                },
                {
                  "type": "bulletList",
                  "content": [
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "HTTPS (OWA/ECP/Services web Outlook)" }] }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "SMTP + STARTTLS (chiffrement des √©changes mail)" }] }
                      ]
                    }
                  ]
                },
                {
                  "type": "blockquote",
                  "content": [
                    {
                      "type": "paragraph",
                      "content": [
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "Point technique :" },
                        { "type": "text", "text": " C√¥t√© SMTP (Receive Connector), Microsoft indique que les connexions TLS chiffr√©es n√©cessitent un certificat serveur dont le nom correspond √† ce que le connecteur annonce (EHLO), et que les serveurs externes utilisent g√©n√©ralement un certificat de confiance (autorit√© publique)." }
                      ]
                    }
                  ]
                }
              ]
            }
          }
        },
        {
          "type": "resource",
          "title": "2.2 Configuration des enregistrements DNS n√©cessaires (MX, SPF, DKIM)",
          "position": 1,
          "published": true,
          "content": {
            "body": {
              "type": "doc",
              "content": [
                {
                  "type": "heading",
                  "attrs": { "level": 2 },
                  "content": [{ "type": "text", "text": "üéØ Objectif" }]
                },
                {
                  "type": "paragraph",
                  "content": [
                    { "type": "text", "text": "Livrabilit√© + bonne configuration client + protection contre le spoofing." }
                  ]
                },
                { "type": "paragraph" },
                {
                  "type": "heading",
                  "attrs": { "level": 2 },
                  "content": [{ "type": "text", "text": "üì¨ MX (Mail eXchanger) ‚Äî \"o√π livrer le courrier\"" }]
                },
                {
                  "type": "bulletList",
                  "content": [
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "Un serveur externe (Gmail, Orange, autre) regarde ton MX pour savoir o√π envoyer les mails du domaine." }] }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "Mauvais MX = mails qui partent ailleurs / ou n'arrivent pas." }] }
                      ]
                    }
                  ]
                },
                {
                  "type": "blockquote",
                  "content": [
                    {
                      "type": "paragraph",
                      "content": [
                        { "type": "text", "text": "Microsoft explique comment ajouter le MX dans un contexte Microsoft 365 (principe identique : priorit√©, cible, etc.)." }
                      ]
                    }
                  ]
                },
                { "type": "paragraph" },
                {
                  "type": "heading",
                  "attrs": { "level": 2 },
                  "content": [{ "type": "text", "text": "üõ°Ô∏è SPF ‚Äî \"qui a le droit d'envoyer pour le domaine\"" }]
                },
                {
                  "type": "paragraph",
                  "content": [
                    { "type": "text", "text": "SPF est un TXT record qui dit :" }
                  ]
                },
                {
                  "type": "bulletList",
                  "content": [
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "‚úÖ \"les serveurs suivants sont autoris√©s √† envoyer des emails pour @mondomaine.fr\"" }] }
                      ]
                    }
                  ]
                },
                {
                  "type": "blockquote",
                  "content": [
                    {
                      "type": "paragraph",
                      "content": [
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "Recommandation Microsoft :" },
                        { "type": "text", "text": " SPF est explicitement recommand√© comme enregistrement \"primaire\" √† configurer avec MX et Autodiscover." }
                      ]
                    }
                  ]
                },
                { "type": "paragraph" },
                {
                  "type": "heading",
                  "attrs": { "level": 2 },
                  "content": [{ "type": "text", "text": "üîë DKIM ‚Äî \"signature cryptographique des emails\"" }]
                },
                {
                  "type": "paragraph",
                  "content": [
                    { "type": "text", "text": "DKIM ajoute une signature dans l'en-t√™te (DKIM-Signature) et publie une cl√© publique en DNS." }
                  ]
                },
                {
                  "type": "blockquote",
                  "content": [
                    {
                      "type": "paragraph",
                      "content": [
                        { "type": "text", "marks": [{ "type": "bold" }], "text": "Contexte Microsoft :" },
                        { "type": "text", "text": " Microsoft rappelle que DKIM s'appuie sur la PKI et des enregistrements DNS (souvent CNAME en M365) et que DKIM est une brique d'une strat√©gie d'authentification email plus globale (avec SPF/DMARC)." }
                      ]
                    }
                  ]
                },
                {
                  "type": "paragraph",
                  "content": [
                    { "type": "text", "text": "üëâ Pour Microsoft 365, l'activation de DKIM passe par la cr√©ation de CNAME DKIM dans DNS (selectors)." }
                  ]
                },
                {
                  "type": "paragraph",
                  "content": [
                    { "type": "text", "text": "M√™me si ton cours parle \"Exchange\", p√©dagogiquement tu peux pr√©senter DKIM comme \"DNS + cryptographie + r√©putation d'envoi\", et pr√©ciser que la mise en place varie selon on-prem vs Exchange Online." }
                  ]
                }
              ]
            }
          }
        },
        {
          "type": "resource",
          "title": "2.3 Gestion des d√©pendances avec Active Directory",
          "position": 2,
          "published": true,
          "content": {
            "body": {
              "type": "doc",
              "content": [
                {
                  "type": "heading",
                  "attrs": { "level": 2 },
                  "content": [{ "type": "text", "text": "üîç Ce qu'il faut v√©rifier (logique admin)" }]
                },
                {
                  "type": "orderedList",
                  "attrs": { "start": 1 },
                  "content": [
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "Sant√© AD : r√©plication OK, DNS AD OK, sites AD coh√©rents" }] }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "Global Catalog disponible dans le site Exchange (sinon blocage d'installation)" }] }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "R√©solution DNS interne fiable (clients + Exchange)" }] }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "Droits / comptes : les comptes d'admin utilis√©s doivent √™tre adapt√©s au contexte (sans d√©tailler ici si tu gardes la suite pour un module \"installation\")." }] }
                      ]
                    }
                  ]
                }
              ]
            }
          }
        },
        {
          "type": "tp",
          "title": "TP 1 ‚Äî Configurer un environnement r√©seau compatible avec Exchange",
          "position": 3,
          "published": true,
          "content": {
            "description": "Mettre en place une base \"propre\" : DNS interne + AD + pr√©requis r√©seau pour qu'Exchange puisse √™tre install√© et fonctionner.",
            "instructions": {
              "type": "doc",
              "content": [
                {
                  "type": "heading",
                  "attrs": { "level": 2 },
                  "content": [{ "type": "text", "text": "üéØ But du TP (niveau d√©butant/interop)" }]
                },
                {
                  "type": "paragraph",
                  "content": [
                    { "type": "text", "text": "Mettre en place une base \"propre\" : DNS interne + AD + pr√©requis r√©seau pour qu'Exchange puisse √™tre install√© et fonctionner." }
                  ]
                },
                { "type": "paragraph" },
                {
                  "type": "heading",
                  "attrs": { "level": 2 },
                  "content": [{ "type": "text", "text": "‚úÖ Livrables attendus" }]
                },
                {
                  "type": "bulletList",
                  "content": [
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "AD op√©rationnel (DC + GC)" }] }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "DNS interne op√©rationnel" }] }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "R√©solution de noms coh√©rente" }] }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "Checklist valid√©e" }] }
                      ]
                    }
                  ]
                },
                { "type": "paragraph" },
                {
                  "type": "heading",
                  "attrs": { "level": 2 },
                  "content": [{ "type": "text", "text": "üß© Sc√©nario simple (lab)" }]
                },
                {
                  "type": "bulletList",
                  "content": [
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "1 VM : DC01 (AD DS + DNS)" }] }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "1 VM : EX01 (futur Exchange)" }] }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "1 VM : CLIENT01 (Outlook / tests)" }] }
                      ]
                    }
                  ]
                },
                { "type": "paragraph" },
                {
                  "type": "heading",
                  "attrs": { "level": 2 },
                  "content": [{ "type": "text", "text": "üìã √âtapes (guid√©es)" }]
                },
                {
                  "type": "orderedList",
                  "attrs": { "start": 1 },
                  "content": [
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "Configurer AD DS sur DC01" }] }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "V√©rifier que DC01 est Global Catalog et que EX01 est dans le m√™me site AD (ou site correctement configur√©)" }] }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        {
                          "type": "paragraph",
                          "content": [
                            { "type": "text", "text": "DNS interne :" }
                          ]
                        },
                        {
                          "type": "bulletList",
                          "content": [
                            {
                              "type": "listItem",
                              "content": [
                                { "type": "paragraph", "content": [{ "type": "text", "text": "zone entreprise.local (exemple)" }] }
                              ]
                            },
                            {
                              "type": "listItem",
                              "content": [
                                { "type": "paragraph", "content": [{ "type": "text", "text": "A records : dc01, ex01" }] }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        {
                          "type": "paragraph",
                          "content": [
                            { "type": "text", "text": "Tester depuis EX01 :" }
                          ]
                        },
                        {
                          "type": "bulletList",
                          "content": [
                            {
                              "type": "listItem",
                              "content": [
                                { "type": "paragraph", "content": [{ "type": "text", "text": "ping dc01" }] }
                              ]
                            },
                            {
                              "type": "listItem",
                              "content": [
                                { "type": "paragraph", "content": [{ "type": "text", "text": "r√©solution DNS de dc01 et ex01" }] }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "Documenter une checklist \"OK / KO\"" }] }
                      ]
                    }
                  ]
                },
                { "type": "paragraph" },
                {
                  "type": "heading",
                  "attrs": { "level": 2 },
                  "content": [{ "type": "text", "text": "‚úÖ Crit√®re de r√©ussite (p√©dagogique)" }]
                },
                {
                  "type": "bulletList",
                  "content": [
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "EX01 r√©sout DC01 sans erreur" }] }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "DC01 est GC et accessible en √©criture (pr√©-requis installation Exchange)" }] }
                      ]
                    }
                  ]
                }
              ]
            },
            "checklist": [
              "AD DS install√© et configur√© sur DC01",
              "DC01 configur√© comme Global Catalog",
              "Zone DNS interne cr√©√©e (ex: entreprise.local)",
              "Enregistrements A cr√©√©s pour dc01 et ex01",
              "EX01 peut r√©soudre DC01 via DNS",
              "EX01 peut ping DC01",
              "DC01 est accessible en √©criture depuis EX01",
              "Checklist document√©e avec statut OK/KO"
            ]
          }
        },
        {
          "type": "tp",
          "title": "TP 2 ‚Äî Param√©trer les entr√©es DNS pour un domaine professionnel",
          "position": 4,
          "published": true,
          "content": {
            "description": "Cr√©er les enregistrements DNS n√©cessaires pour une messagerie \"pro\" : MX, SPF, DKIM (logique + exemple de selectors).",
            "instructions": {
              "type": "doc",
              "content": [
                {
                  "type": "heading",
                  "attrs": { "level": 2 },
                  "content": [{ "type": "text", "text": "üéØ But du TP" }]
                },
                {
                  "type": "paragraph",
                  "content": [
                    { "type": "text", "text": "Cr√©er les enregistrements DNS n√©cessaires pour une messagerie \"pro\" :" }
                  ]
                },
                {
                  "type": "bulletList",
                  "content": [
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "MX" }] }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "SPF" }] }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "DKIM (logique + exemple de selectors)" }] }
                      ]
                    }
                  ]
                },
                { "type": "paragraph" },
                {
                  "type": "heading",
                  "attrs": { "level": 2 },
                  "content": [{ "type": "text", "text": "üìã √âtapes" }]
                },
                {
                  "type": "orderedList",
                  "attrs": { "start": 1 },
                  "content": [
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "Choisir un domaine d'exemple : mondomaine.fr" }] }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        {
                          "type": "paragraph",
                          "content": [
                            { "type": "text", "text": "Cr√©er :" }
                          ]
                        },
                        {
                          "type": "bulletList",
                          "content": [
                            {
                              "type": "listItem",
                              "content": [
                                { "type": "paragraph", "content": [{ "type": "text", "text": "MX ‚Üí cible mail.mondomaine.fr (exemple p√©dagogique)" }] }
                              ]
                            },
                            {
                              "type": "listItem",
                              "content": [
                                { "type": "paragraph", "content": [{ "type": "text", "text": "TXT SPF ‚Üí autoriser la/les sources d'envoi (selon sc√©nario)" }] }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        {
                          "type": "paragraph",
                          "content": [
                            { "type": "text", "text": "DKIM (approche \"Microsoft 365 / Defender\" pour l'exemple) :" }
                          ]
                        },
                        {
                          "type": "bulletList",
                          "content": [
                            {
                              "type": "listItem",
                              "content": [
                                { "type": "paragraph", "content": [{ "type": "text", "text": "cr√©er les CNAME selectors DKIM (selector1/selector2) comme d√©crit dans la doc Microsoft" }] }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        {
                          "type": "paragraph",
                          "content": [
                            { "type": "text", "text": "V√©rifier coh√©rence :" }
                          ]
                        },
                        {
                          "type": "bulletList",
                          "content": [
                            {
                              "type": "listItem",
                              "content": [
                                { "type": "paragraph", "content": [{ "type": "text", "text": "\"MX pointe vers la bonne cible\"" }] }
                              ]
                            },
                            {
                              "type": "listItem",
                              "content": [
                                { "type": "paragraph", "content": [{ "type": "text", "text": "\"SPF existe\"" }] }
                              ]
                            },
                            {
                              "type": "listItem",
                              "content": [
                                { "type": "paragraph", "content": [{ "type": "text", "text": "\"DKIM selectors publi√©s\"" }] }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                { "type": "paragraph" },
                {
                  "type": "heading",
                  "attrs": { "level": 2 },
                  "content": [{ "type": "text", "text": "‚úÖ Crit√®re de r√©ussite" }]
                },
                {
                  "type": "bulletList",
                  "content": [
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "Les enregistrements existent et sont coh√©rents avec l'objectif (r√©ception / envoi / protection anti spoofing)" }] }
                      ]
                    },
                    {
                      "type": "listItem",
                      "content": [
                        { "type": "paragraph", "content": [{ "type": "text", "text": "Les √©tudiants savent expliquer \"√† quoi sert chaque record\"" }] }
                      ]
                    }
                  ]
                }
              ]
            },
            "checklist": [
              "Domaine d'exemple choisi (mondomaine.fr)",
              "Enregistrement MX cr√©√© pointant vers mail.mondomaine.fr",
              "Enregistrement TXT SPF cr√©√© avec les sources d'envoi autoris√©es",
              "CNAME DKIM selector1 cr√©√© (ex: selector1._domainkey.mondomaine.fr)",
              "CNAME DKIM selector2 cr√©√© (ex: selector2._domainkey.mondomaine.fr)",
              "V√©rification de coh√©rence : MX pointe vers la bonne cible",
              "V√©rification de coh√©rence : SPF existe et est valide",
              "V√©rification de coh√©rence : DKIM selectors publi√©s",
              "Capacit√© √† expliquer le r√¥le de chaque enregistrement DNS"
            ]
          }
        },
        {
          "type": "game",
          "title": "Quiz ‚Äî Validation des pr√©requis Exchange (DNS, AD, certificats)",
          "position": 5,
          "published": true,
          "content": {
            "gameType": "quiz",
            "description": "Quiz rapide de 5 questions pour valider la compr√©hension des pr√©requis syst√®me et r√©seau pour Exchange : MX, SPF, DKIM, Active Directory et certificats TLS.",
            "instructions": "R√©pondez aux 5 questions suivantes pour valider vos connaissances sur les pr√©requis Exchange. Chaque question a une seule bonne r√©ponse.",
            "scoring": {
              "totalQuestions": 5,
              "pointsPerQuestion": 1,
              "passingScore": 4
            },
            "levels": [
              {
                "level": 1,
                "name": "Validation des pr√©requis Exchange",
                "questions": [
                  {
                    "id": "q1-dns-exchange",
                    "type": "mcq",
                    "prompt": "Quels sont les 3 enregistrements DNS \"de base\" recommand√©s par Microsoft pour Exchange (selon la documentation Microsoft 365) ?",
                    "options": [
                      "MX, A, CNAME",
                      "Autodiscover, MX et SPF",
                      "MX, SPF et DKIM",
                      "A, AAAA et MX"
                    ],
                    "answer": "Autodiscover, MX et SPF",
                    "explanation": "Microsoft recommande explicitement Autodiscover, MX et SPF comme les 3 enregistrements DNS \"de base\" √† configurer. Autodiscover permet aux clients de trouver automatiquement le serveur Exchange, MX indique o√π livrer les emails, et SPF prot√®ge contre l'usurpation d'identit√©.",
                    "difficulty": 1
                  },
                  {
                    "id": "q2-ad-global-catalog",
                    "type": "mcq",
                    "prompt": "Quel est le pr√©requis critique concernant Active Directory pour l'installation d'Exchange dans un site AD ?",
                    "options": [
                      "Il faut au minimum un contr√¥leur de domaine en lecture seule",
                      "Il faut au minimum un contr√¥leur de domaine inscriptible (writeable) qui soit aussi Global Catalog",
                      "Il faut au minimum deux contr√¥leurs de domaine",
                      "Il n'y a pas de pr√©requis AD sp√©cifique"
                    ],
                    "answer": "Il faut au minimum un contr√¥leur de domaine inscriptible (writeable) qui soit aussi Global Catalog",
                    "explanation": "Microsoft est tr√®s clair : dans le site AD o√π tu installes Exchange, il faut au minimum un contr√¥leur de domaine inscriptible (writeable) qui soit aussi Global Catalog, sinon l'installation √©choue. Exchange a besoin d'√©crire dans AD et d'acc√©der au Global Catalog pour les op√©rations d'annuaire.",
                    "difficulty": 2
                  },
                  {
                    "id": "q3-spf-protection",
                    "type": "mcq",
                    "prompt": "√Ä quoi sert l'enregistrement SPF (Sender Policy Framework) ?",
                    "options": [
                      "√Ä indiquer o√π livrer les emails (comme MX)",
                      "√Ä signer cryptographiquement les emails",
                      "√Ä autoriser quels serveurs peuvent envoyer des emails pour le domaine",
                      "√Ä permettre la d√©couverte automatique du serveur Exchange"
                    ],
                    "answer": "√Ä autoriser quels serveurs peuvent envoyer des emails pour le domaine",
                    "explanation": "SPF est un enregistrement TXT qui dit \"les serveurs suivants sont autoris√©s √† envoyer des emails pour @mondomaine.fr\". C'est un m√©canisme anti-usurpation qui permet aux serveurs de r√©ception de v√©rifier que l'email provient bien d'un serveur autoris√©.",
                    "difficulty": 1
                  },
                  {
                    "id": "q4-dkim-signature",
                    "type": "mcq",
                    "prompt": "Comment fonctionne DKIM (DomainKeys Identified Mail) ?",
                    "options": [
                      "DKIM utilise uniquement des enregistrements MX",
                      "DKIM ajoute une signature dans l'en-t√™te (DKIM-Signature) et publie une cl√© publique en DNS",
                      "DKIM remplace compl√®tement SPF",
                      "DKIM ne n√©cessite pas de configuration DNS"
                    ],
                    "answer": "DKIM ajoute une signature dans l'en-t√™te (DKIM-Signature) et publie une cl√© publique en DNS",
                    "explanation": "DKIM ajoute une signature cryptographique dans l'en-t√™te de l'email (DKIM-Signature) et publie une cl√© publique en DNS (souvent via des CNAME en Microsoft 365, avec des selectors comme selector1 et selector2). DKIM s'appuie sur la PKI et fait partie d'une strat√©gie d'authentification email globale avec SPF/DMARC.",
                    "difficulty": 2
                  },
                  {
                    "id": "q5-tls-certificates",
                    "type": "mcq",
                    "prompt": "Pourquoi Exchange utilise-t-il des certificats SSL/TLS ?",
                    "options": [
                      "Uniquement pour HTTPS (OWA/ECP)",
                      "Uniquement pour SMTP",
                      "Pour HTTPS (OWA/ECP/Services web Outlook) ET pour SMTP + STARTTLS (chiffrement des √©changes mail)",
                      "Les certificats ne sont pas n√©cessaires pour Exchange"
                    ],
                    "answer": "Pour HTTPS (OWA/ECP/Services web Outlook) ET pour SMTP + STARTTLS (chiffrement des √©changes mail)",
                    "explanation": "Exchange utilise TLS/SSL pour plusieurs usages : HTTPS pour les services web (OWA/ECP/Services web Outlook) et SMTP + STARTTLS pour le chiffrement des √©changes mail. C√¥t√© SMTP (Receive Connector), les connexions TLS chiffr√©es n√©cessitent un certificat serveur dont le nom correspond √† ce que le connecteur annonce (EHLO).",
                    "difficulty": 1
                  }
                ]
              }
            ]
          }
        }
      ]
    }
  ]
}
